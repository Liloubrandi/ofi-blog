"use strict";(self.webpackChunkofi_blog_versioned=self.webpackChunkofi_blog_versioned||[]).push([[7918],{47271:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(67294);const a="noLoginAlert_HRfh";var o=n(39960),i=n(71217),l=n(21314);const s=(0,i.Pi)((()=>(0,l.oR)("msalStore").loggedIn?null:r.createElement("div",{className:a},r.createElement("span",{className:"badge badge--danger"},"\u26a0\ufe0f Nicht Eingeloggt")," Speichern nur mit GBSL-Login m\xf6glich. ",r.createElement(o.Z,{to:"/login"},"Login"))))},74322:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(67294),a=n(86010);const o="loader_FEpR",i="badge_oWqf";var l=n(71217),s=n(92814),c=n(51436);const d=(0,l.Pi)((()=>r.createElement("div",{className:(0,a.default)(o)},r.createElement(s.G,{icon:c.IJ7,spin:!0}),r.createElement("span",{className:(0,a.default)("badge",i)},"Laden..."))))},64320:(e,t,n)=>{n.d(t,{Z:()=>oe});var r=n(87462),a=n(67294),o=n(81758),i=n(10412);const l=e=>{if(e)return e.replace(/--/g,"<<HYPHEN>>").replace(/__/g,"<<UNDERSCORE>>").replace(/[-_]/g," ").replace(/<<UNDERSCORE>>/g,"_").replace(/<<HYPHEN>>/g,"-")},s=e=>{if(e)return e.replace(/[\/\.\-#]/g,"_").replace(/%201/g,"_").replace(/[\.:,"'\s]/g,"")},c=function(e,t){void 0===t&&(t=0);let n=3735928559^t,r=1103547991^t;for(let a,o=0;o<e.length;o++)a=e.charCodeAt(o),n=Math.imul(n^a,2654435761),r=Math.imul(r^a,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),(r>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")},d={wrapper:"wrapper_MnfC",containerBig:"containerBig_Wsxi",controls:"controls_S9py",editor:"editor_UZ3W",result:"result_yCvC",containerSlim:"containerSlim_ovzd",playgroundContainer:"playgroundContainer_aEuH",brythonCodeBlock:"brythonCodeBlock_o4s6",brythonTurtleResult:"brythonTurtleResult_xUV1",brythonTurtleResultHead:"brythonTurtleResultHead_r_q_",slimStrippedButton:"slimStrippedButton_queU",brythonEditor:"brythonEditor_xYdW",brythonOut:"brythonOut_bacR",brythonCodeBlockHeader:"brythonCodeBlockHeader_t1uS",spacer:"spacer_FWjg",playgroundHeader:"playgroundHeader_amd9",badge:"badge_ISa1",playButton:"playButton_Lym6",headerButton:"headerButton_BRMW",title:"title_Lxg0",showRawButton:"showRawButton_PcEn",showRawButtonDisabled:"showRawButtonDisabled_ti1N",codeHistory:"codeHistory_sMtz",historyDetails:"historyDetails_ER1v",versionControl:"versionControl_OmZD",faButton:"faButton_YF3M",diffViewer:"diffViewer_LJy9"};var u=n(86010),m=n(52616),p=n(71217),f=n(21314);const h=n(63818),b=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore").find(e.webKey);return a.createElement("script",{id:m.h5.scriptSource(t.codeId),type:"text/py_disabled",className:"brython-script"},h+'\nrun("""'+((t.code||"").replace(/"{3}/g,"'''").replace(/\\n/,"\\\\n")+'""", \'')+t.codeId+"')")}));var y=void 0;const g=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore").find(e.webKey);return a.createElement("pre",null,a.createElement("code",null,t.data.code))})),_=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore").find(e.webKey),[r,o]=a.useState(!1);a.useEffect((()=>{let e=!0;return(e=>{if(y)return e();n.e(4981).then(n.bind(n,74981)).then((t=>Promise.all([n.e(6604).then(n.t.bind(n,56604,23)),n.e(4007).then(n.t.bind(n,4007,23)),n.e(4077).then(n.t.bind(n,44077,23)),n.e(7787).then(n.t.bind(n,57787,23)),n.e(2679).then(n.t.bind(n,82679,23)),n.e(6245).then(n.t.bind(n,66245,23))]).then((n=>{y=t.default,e()}))))})((()=>{e&&o(!0)})),()=>{e=!1}}),[]);const i=a.useCallback((n=>(null!==n&&n.editor&&("python"===e.lang&&n.editor.commands.addCommand({name:"execute",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:()=>t.execScript(document)}),n.editor.commands.addCommand({name:"save",bindKey:{win:"Ctrl-s",mac:"Command-s"},exec:()=>{t.saveService.saveNow()}})),()=>{if(n&&n.editor){const e=n.editor.commands.commands.execute;e&&n.editor.commands.removeCommand(e,!0);const t=n.editor.commands.commands.save;t&&n.editor.commands.removeCommand(t,!0)}})),[t]);return a.createElement("div",{className:(0,u.default)(d.brythonCodeBlock,d.editor)},r?a.createElement(y,{className:d.brythonEditor,style:{width:"100%"},onPaste:e=>{t.versioned&&(t.setPastedEdit(!0),t.saveService.saveNow())},maxLines:25,ref:i,mode:e.lang,theme:"dracula",keyBindings:"VSCode",onChange:e=>{t.setData({code:e})},readOnly:t.showRaw||!t.loaded,value:t.showRaw?t.rawScript:t.data.code,defaultValue:t.code,name:m.h5.aceEditor(t.codeId),editorProps:{$blockScrolling:!0},setOptions:{displayIndentGuides:!0,vScrollBarAlwaysVisible:!1,highlightGutterLine:!1},showPrintMargin:!1,highlightActiveLine:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!1,enableSnippets:!1,showGutter:!0}):a.createElement(g,{webKey:e.webKey,lang:e.lang}),"python"===e.lang&&a.createElement(b,{webKey:e.webKey}))}));var w=n(61193),v=n.n(w);const E=e=>{if(e.type&&"touchend"===e.type.toLowerCase()){var t=e.target;if(t){for(;"button"!==t.tagName.toLowerCase()&&(t=t.parentNode)&&t.tagName;)if("div"===t.tagName.toLowerCase()&&t.classList.contains("react-draggable")){t=null;break}t&&setTimeout((()=>t.click()),1)}}};var N=n(61212);const S=e=>Object.entries(e||{}).map((e=>e[0]+'="'+e[1]+'"')).join(" "),x=(e,t)=>{"root"===e.type?e.children.forEach((e=>{x(e,t)})):"element"===e.type&&"svg"===e.tagName&&"properties"in e&&(e.properties={...e.properties,...t})},C=e=>{const t=[],{properties:n,tagName:r,type:a,children:o}=e;switch("root"===a&&o.forEach((e=>{t.push(...C(e))})),r){case"svg":e.metadata&&t.push(e.metadata),t.push("<svg "+S(n)+">"),o.forEach((e=>{t.push(...C(e))})),t.push("</svg>");break;case"rect":o.forEach((e=>{if(["animate","set"].includes(e.tagName)&&e.properties){const t=e.properties;if(!("to"in t)||!("attributeName"in t))return;"display"===t.attributeName&&"CSS"===t.attributeType&&(n.style=n.style.replace(/display:\s*\b\w+\b;/g,"display: "+t.to+";")),n[t.attributeName]=t.to}})),t.push("<rect "+S(n)+"></rect>");break;case"g":if(0===(o||[]).length)return t;t.push("<g "+S(n)+">"),o.forEach((e=>{t.push(...C(e))})),t.push("</g>");break;case"line":o.forEach((e=>{if(["animate","set"].includes(e.tagName)&&e.properties){const t=e.properties;if(!("to"in t)||!("attributeName"in t))return;n[t.attributeName]=t.to}})),t.push("<line "+S(n)+"></line>");break;case"circle":o.forEach((e=>{if(["animate","set"].includes(e.tagName)&&e.properties){const t=e.properties;if(!("to"in t)||!("attributeName"in t))return;"display"===e.attributeName&&"CSS"===e.attributeType&&(n.style=n.style.replace(/display:\s*\b\w+\b;/g,"display: "+t.to))}})),n.style&&/\s*display:\s*none;\s*/.test(n.style)&&(n.style=n.style.replace(/\s*display:\s*none;\s*/g,"")),t.push("<circle "+S(n)+"></circle>");break;case"text":var i="";o.forEach((e=>{switch(e.type){case"text":i=e.value;break;case"element":const t=e.properties;if(!["animate","set"].includes(e.tagName))return;if(!("to"in t)||!("attributeName"in t))return;"display"===t.attributeName&&"CSS"===t.attributeType&&(n.style=n.style.replace(/display:\s*\b\w+\b;/g,"display: "+t.to+";")),n[t.attributeName]=t.to}})),t.push("<text "+S(n)+">"+i+"</text>");break;case"polygon":var l="0,0,0",s="0,0";o.forEach((e=>{const t=e.properties;switch(e.tagName){case"set":case"animate":if(!("to"in t)||!("attributeName"in t))return;"display"===t.attributeName&&"CSS"===t.attributeType&&(n.style=n.style.replace(/display:\s*\b\w+\b;/g,"display: "+t.to+";")),n[t.attributeName]=t.to;break;case"animateTransform":"rotate"===e.properties.type&&(l=e.properties.to);break;case"animateMotion":"to"in e.properties&&(s=e.properties.to)}})),t.push("<polygon "+S(n)+' transform="translate('+s+") rotate("+l+')"></polygon>')}return t},R=e=>{const t=e.getAttribute("dur");return/ms$/.test(t)?Number.parseFloat(t)/1e3||0:/s$/.test(t)&&Number.parseFloat(t)||0},B=(e,t,n,r)=>{e.setAttribute("xmlns","http://www.w3.org/2000/svg");const a=e.getBBox(),o={viewBox:a.x-5+","+(a.y-5)+","+(a.width+10)+","+(a.height+10),width:a.width+10,height:a.height+10};var i=e.outerHTML,l='<?xml version="1.0" standalone="no"?>';const s=document.createElement("div");let c=0;if(r||window.__KEEP_TURTLE_ANIMATIONS__){const t=e.cloneNode(!0),n=t.querySelectorAll("animate"),r=Array.from(n).map((e=>(e.id.match(/\d+/)||[])[0])).filter((e=>e)).map((e=>Number.parseInt(e))).sort(((e,t)=>e>t?1:-1));if(r.length>0){const e=r[r.length-1],n=t.getElementById("animation_frame0");if(n){const t=document.createElement("rect");t.innerHTML='  <rect><animate id="looper_animation" begin="0;animation_frame'+e+'.end" dur="1ms" attributeName="visibility" from="hide" to="hide"/></rect>',n.parentElement.insertBefore(t,n),n.setAttribute("begin","looper_animation.end"),n.setAttribute("width",""+o.width)}}t.querySelectorAll('animate[attributeName="width"]').forEach((e=>{e.getAttribute("from")===e.getAttribute("to")&&e.setAttribute("from",""+o.width),e.setAttribute("to",""+o.width)})),t.setAttribute("viewBox",o.viewBox),t.setAttribute("height",""+o.height),t.setAttribute("width",""+o.width),s.innerHTML=l+"\r\n"+t.outerHTML,c=Array.from(t.querySelectorAll("animate")).map(R).reduce(((e,t)=>e+t),0)}else{const e=((e,t)=>{const n=(0,N.Q)(e);return t&&x(n,t),C(n).join("\n")})(""+l+i,o);s.innerHTML=e}if(!window.__DISABLE_TURTLE_METADATA__){const e=s.querySelector("svg"),t=document.createElement("metadata"),r=document.createElement("raw");r.innerHTML=n||"",t.appendChild(r),e.appendChild(t)}var d=new Blob([s.innerHTML],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(d),m=document.createElement("a");m.href=u,m.download=c>0?t+"__"+(Math.round(10*c)/10).toString().replace(".","_")+"s.svg":t+".svg",document.body.appendChild(m),m.click(),document.body.removeChild(m)};var k=n(92814),T=n(51436);const L=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore").find(e.webKey),n=(0,f.oR)("documentStore");return a.createElement(v(),{onStop:E,positionOffset:{x:0,y:"-50%"}},a.createElement("div",{className:d.brythonTurtleResult},a.createElement("div",{className:d.brythonTurtleResultHead},a.createElement("span",null,"Output"),a.createElement("span",{className:d.spacer}),a.createElement("button",{"aria-label":"Download Animated SVG",type:"button",className:d.slimStrippedButton,style:{zIndex:1e3},onClick:()=>{const e=document.getElementById(m.h5.turtleSvgContainer(t.codeId));e&&B(e,""+t.codeId,t.executedScriptSource,!0)}},a.createElement("span",{"aria-hidden":"true"},a.createElement(k.G,{icon:T.Bxq}))),a.createElement("button",{"aria-label":"Download SVG",type:"button",className:d.slimStrippedButton,style:{zIndex:1e3},onClick:()=>{const e=document.getElementById(m.h5.turtleSvgContainer(t.codeId));e&&B(e,""+t.codeId,t.executedScriptSource)}},a.createElement("span",{"aria-hidden":"true"},a.createElement(k.G,{icon:T.q7m}))),a.createElement("button",{"aria-label":"Close",type:"button",style:{zIndex:1e3},className:d.slimStrippedButton,onClick:()=>n.setOpendTurtleModal(void 0)},a.createElement("span",{"aria-hidden":"true"},a.createElement(k.G,{icon:T.NBC})))),a.createElement("div",{id:m.h5.turtleResult(t.codeId),className:"brython-turtle-result"})))})),K=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore").find(e.webKey);return 0===t.logMessages.length||/^\s*$/.test(t.logMessages.map((e=>e.output)).join(""))?null:a.createElement("div",{className:d.brythonOut},t.logMessages.length>0&&a.createElement("pre",{style:{overflowX:"auto"}},t.logMessages.map(((e,t)=>a.createElement("code",{key:t,style:{color:"stderr"===e.type?"var(--ifm-color-danger-darker)":void 0}},e.output)))))}));var A=n(51417),M=n(68949);const I=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore").find(e.webKey);return a.createElement("button",{onClick:()=>t.execScript(document),className:(0,u.default)(d.playButton,d.headerButton),title:"Code Ausf\xfchren"},a.createElement(k.G,{icon:t.executing?A.Bmx:T.zc,spin:t.executing}))})),H=(0,p.Pi)((e=>{let{slim:t,title:n,resettable:r,webKey:o,lang:i,noCompare:l,download:s}=e;const[c,m]=a.useState(!1),p=(0,f.oR)("documentStore").find(o);if(!p)return null;return a.useEffect((()=>{let e;const t=(0,M.U5)((()=>p.saveService.state),((t,n)=>{"save"===n&&"done"===t&&(m(!0),e=setTimeout((()=>{m(!1),e=void 0}),1500))}));return()=>{e&&clearTimeout(e),t()}}),[p]),a.createElement("div",{className:(0,u.default)(d.brythonCodeBlockHeader,d.brythonCodeBlockHeader,d.controls)},!t&&a.createElement(a.Fragment,null,a.createElement("div",{className:d.title},n),!p.loaded&&a.createElement("span",{className:"badge badge--warning",title:"Warte auf die Antwort des Servers. Seite neu laden."},"Laden"),p.saveService.isOffline&&a.createElement("span",{className:(0,u.default)("badge","badge--danger",d.badge),title:"Netzwerkverbindung \xfcberpr\xfcfen!"},"\u26a0\ufe0f Offline"),a.createElement("div",{className:d.spacer}),a.createElement("span",{style:{minWidth:"1em"}},"save"===p.saveService.state&&a.createElement(k.G,{icon:T.UO1,style:{color:"#3578e5"},spin:!0}),c&&a.createElement(k.G,{icon:T.f8k,style:{color:"var(--ifm-color-success)"}})),p.hasEdits&&!p.showRaw&&r&&a.createElement("button",{onClick:()=>{if(!r)return;if(p.readonly)return void p.setData({code:p.pristine.code});window.confirm("\xc4nderungen verwerfen? (Ihre Version geht verloren!)")&&p.setData({code:p.rawScript})},className:d.headerButton,title:"\xc4nderungen Verwerfen"},a.createElement(k.G,{icon:T.X7o})),s&&!p.showRaw&&a.createElement("button",{className:(0,u.default)(d.headerButton),onClick:()=>{const e=document.createElement("a"),t=new Blob([p.code],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(t);const r="python"===i?".py":"."+i,a=n===i?p.webKey:n,o=a.endsWith(r)?a:""+a+r;e.download=o,document.body.appendChild(e),e.click(),document.body.removeChild(e)},title:"Download"},a.createElement(k.G,{icon:T.q7m})),p.hasEdits&&!l&&a.createElement("button",{className:(0,u.default)(d.showRawButton,d.headerButton,p.showRaw?d.showRawButtonDisabled:void 0),onClick:(0,M.aD)((()=>p.showRaw=!p.showRaw)),title:p.showRaw?"Mein Code Anzeigen":"Original Anzeigen"},p.showRaw?a.createElement(k.G,{icon:T.w49}):a.createElement(k.G,{icon:T.rxY}))),"python"===i&&a.createElement(I,{webKey:o}))})),P=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore"),n=t.find(e.webKey);return a.useEffect((()=>(0,M.U5)((()=>n.execCounter),(t=>{"python"===e.lang&&t>0&&(n.clearLogMessages(),window&&window.umami&&window.umami.trackEvent(""+(n.isDummy?"py":n.webKey),"exec-script-"+(n.isDummy?"temp":"persisted")),window.brython(1,{ids:[m.h5.scriptSource(n.codeId)]}))}))),[n]),a.createElement(a.Fragment,null,a.createElement(H,{slim:e.slim,title:e.title,resettable:e.resettable,download:e.download,noCompare:e.noCompare,webKey:e.webKey,lang:e.lang}),a.createElement(_,{webKey:e.webKey,lang:e.lang}),"python"===e.lang&&a.createElement("div",{className:(0,u.default)(d.result)},a.createElement(K,{webKey:e.webKey}),t.opendTurtleModalWebKey===n.webKey&&a.createElement(L,{webKey:e.webKey}),a.createElement("div",{id:m.h5.outputDiv(n.codeId)})))})),D=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore").find(e.webKey),n=a.useCallback((e=>{if(e.detail){const n=e.detail;if("done"===n.type)return(0,M.z)((()=>t.executing=!1));t.addLogMessage(n)}}),[t]),r=((e,t)=>{const n=a.useRef(null);return a.useCallback((r=>{n.current&&t(n.current),n.current=r,n.current&&e(n.current)}),[e,t])})((e=>{e.addEventListener(m.jS,n)}),(e=>{e.removeEventListener(m.jS,n)}));return a.createElement("div",{id:m.h5.component(t.codeId),ref:r})}));var O=n(47271),U=n(72389),Z=n(74322),V=n(4817),G=n.n(V),z=n(87410),F=n(12624),W=n(84289);const j=e=>{if(e)return a.createElement("span",{dangerouslySetInnerHTML:{__html:z.Z.highlight(e,z.Z.languages.python,"python")}})},q=e=>{const{value:t,dragging:n,index:o,...i}=e;return a.createElement(W.Rl,{prefixCls:"rc-slider-tooltip",overlay:"V"+t,visible:n,placement:"top",key:o},a.createElement(W.HH,(0,r.Z)({value:t},i)))},$=(0,p.Pi)((e=>{var t;const n=(0,f.oR)("documentStore"),r=(0,f.oR)("userStore"),o=n.find(e.webKey),[i,l]=a.useState(1),[s,c]=a.useState(!1);return a.useEffect((()=>(0,M.U5)((()=>{var t;return null==(t=n.find(e.webKey))?void 0:t.id}),(t=>{var r;t&&t>0&&(l(1),s&&(null==(r=n.find(e.webKey))||r.loadVersions()))}))),[]),o.versioned?a.createElement("div",{className:(0,u.default)(d.codeHistory)},a.createElement("details",{open:s,onClick:e=>{e.preventDefault(),e.stopPropagation(),s||o.loadVersions(),c(!s)},className:(0,u.default)("alert alert--info",d.historyDetails)},a.createElement("summary",null,a.createElement("span",{className:"badge badge--secondary"},o.versionsLoaded?o.versions.length+" Versions":"Load Versions"),a.createElement(k.G,{className:(0,u.default)(d.faButton),color:"var(--ifm-color-primary)",spin:"loading"===o.versionsLoaded,icon:T.UO1,onClick:e=>{e.preventDefault(),e.stopPropagation(),o.loadVersions()}})),a.createElement("div",{className:(0,u.default)(d.content),onClick:e=>{e.preventDefault(),e.stopPropagation()}},a.createElement("div",{className:(0,u.default)(d.versionControl)},a.createElement(F.Z,{value:i,handle:q,onChange:e=>{l(e)},min:1,max:o.versions.length-1,dots:o.versions.length<50})),a.createElement("div",{className:(0,u.default)(d.diffViewer)},o.versions.length>1&&a.createElement(G(),{leftTitle:o.versions[i-1].version,rightTitle:a.createElement("div",null,o.versions[i].version,o.versions[i].pasted&&(null==(t=r.current)?void 0:t.admin)&&a.createElement("span",{style:{float:"right"},className:"badge badge--danger"},"Pasted")),splitView:!0,oldValue:o.versions[i-1].data.code,newValue:o.versions[i].data.code,renderContent:j}))))):null})),Y=(0,p.Pi)((e=>{const t=(0,f.oR)("documentStore");(0,f.ky)((()=>(e=>{let t=(e.code||"").trim();return t.length>0&&(t+=" "),{code:t}})(e)),"code",e.webKey,!e.slim,e.readonly,e.versioned);const n=t.find(e.webKey);return(0,U.Z)()?n?a.createElement("div",{className:(0,u.default)(d.wrapper)},!e.slim&&a.createElement(O.Z,null),a.createElement("div",{className:(0,u.default)(d.playgroundContainer,e.slim?d.containerSlim:d.containerBig,"live_py")},"python"===e.lang&&a.createElement(D,{webKey:e.webKey}),a.createElement(P,e),a.createElement($,{webKey:e.webKey}))):a.createElement(Z.Z,null):a.createElement("div",null,"SSR")}));var J=n(25934),X=n(10345);const Q="playgroundWrapper_ADS_",ee="playgroundContainer_J_zN";function te(e){return a.createElement("div",{className:Q},a.createElement("div",{className:ee},a.createElement(X.Z,e)))}var ne=n(38985);const re={},ae=(e,t)=>{const n=function(){try{return s(window.location.pathname.replace(/^\/|\/$/g,""))}catch(e){return"py"}}();re[n]||(re[n]={});const r=c(t);re[n][r]||(re[n][r]=Object.keys(re[n]).length+1);return e?s(e):""+re[n][r]},oe=(ie=o.Z,function(e){var t,n,o;const s=(e.className||"").match(/language-(?<lang>\w*)/);let c=null!=(t=null==s||null==(n=s.groups)||null==(o=n.lang)?void 0:o.toLocaleLowerCase())?t:"";if("py"===c&&(c="python"),e.live_jsx)return a.createElement(te,(0,r.Z)({scope:ne.Z},e));if(e.live_py&&i.Z.canUseDOM){if(!e.id&&!e.slim)return a.createElement(ie,e);const t=e.children.replace(/\n$/,""),n=ae(e.title,t),[o]=a.useState(e.id||(0,J.Z)());return a.createElement(Y,(0,r.Z)({},e,{webKey:o,code:t,codeId:n,readonly:!!e.readonly,lang:c,resettable:!e.persist,download:!e.versioned&&!e.noDownload,slim:!!e.slim,versioned:!!e.versioned,noCompare:!!e.noCompare,title:l(e.title)||c}))}return a.createElement(ie,e)});var ie},21579:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(47252),a=n(67294),o=n(86010);const i="figure_mAmF",l=function(e,t){return void 0===t&&(t="px"),/^\d+(\.\d*)?$/.test(""+e)?""+e+t:""+e},s=["maxWidth","maxHeight","height","width"];const c="bib_H9qR",d="visible_vIPH",u="refItem_kFBU";var m=n(92814),p=n(51436);const f=e=>{const{bib:t}=e,[n,r]=a.useState(!1);return a.createElement(a.Fragment,null,a.createElement("span",{className:(0,o.default)(c,n?d:void 0),onClick:()=>r(!n)},"@"),n&&a.createElement(a.Fragment,null,a.createElement("span",{className:(0,o.default)("badge badge--secondary",u)},"Autor: ",t.author),a.createElement("a",{href:t.licence_url,target:"_blank",className:u},a.createElement("span",{className:(0,o.default)("badge badge--secondary")},"Lizenz: ",t.licence)),t.edited&&a.createElement("span",{className:(0,o.default)("badge badge--secondary",u)},"Bearbeitet"),a.createElement("a",{href:t.source,target:"_blank",className:u},a.createElement("span",{className:(0,o.default)("badge badge--secondary")},a.createElement(m.G,{icon:p.Xjp})))))},h="dl_tOps";const b={...r.Z,Figure:function(e){const t=a.useRef(null),n=e.options;return n&&("size"in n&&(n.maxWidth="min(90vw, "+l(n.size)+")",n.maxHeight=l(n.size),delete n.size),n.height&&(n.maxWidth="90vw",n.height=l(n.height),delete n.height),n.width&&(n.maxWidth="min(90vw, "+l(n.width)+")",n.width=l(n.width),delete n.width)),a.useEffect((()=>{if(!t.current)return;const e=t.current.firstChild;e&&n&&s.forEach((t=>{t in n&&(e.style[t]=n[t])}))}),[t]),a.createElement("figure",{className:(0,o.default)(i,"figure"),style:n,ref:t},e.children)},SourceRef:f,dl:function(e){return a.createElement("dl",{className:(0,o.default)(h)},e.children)}}},63818:e=>{e.exports="from browser import document, window\nimport re\nimport sys\nimport time\n\nhas_turtle_import = False\nlog_line_number_shift = 0\n\ndef notify(node_id, data):\n    event = window.CustomEvent.new('bry_notify', {'detail': data})\n    document[f'py_{node_id}'].dispatchEvent(event)\n\nclass EventOutput:\n    encoding = 'utf-8'\n\n    def __init__(self, node_id, out_type):\n        self.node_id = node_id\n        self.out_type = out_type\n        self.buf = ''\n\n    def write(self, data):\n        self.buf += str(data)\n        self.flush()\n\n    def flush(self):\n        if len(self.buf) > 0:\n            notify(self.node_id, {'type': self.out_type, 'output': self.buf})\n        self.buf = ''\n\n    def __len__(self):\n        return len(self.buf)\n\nclass Trace:\n    def __init__(self):\n        self.buf = \"\"\n\n    def write(self, *data):\n        self.buf += \" \".join([str(x) for x in data])\n\n    def format(self):\n        \"\"\"Remove calls to function in this script from the traceback.\"\"\"\n        return self.buf\n\ndef syntax_error(args):\n    trace = Trace()\n    info, [filename, lineno, offset, line] = args\n    line_nr = lineno - log_line_number_shift if lineno > 0 else 0\n\n    trace.write(f\"  File {filename}, line {line_nr}\\n\")\n    trace.write(\"    \" + line + \"\\n\")\n    trace.write(\"    \" + offset * \" \" + \"^\\n\")\n    trace.write(\"SyntaxError:\", info, \"\\n\")\n    return trace.buf\n\ndef format_exc():\n    trace = Trace()\n    exc_info = sys.exc_info()\n    exc_class = exc_info[0].__name__\n    exc_msg = str(exc_info[1])\n    tb = exc_info[2].tb_next\n    if exc_info[0] is SyntaxError:\n        return syntax_error(exc_info[1].args)\n    trace.write(\"Traceback (most recent call last):\\n\")\n    while tb is not None:\n        frame = tb.tb_frame\n        code = frame.f_code\n        name = code.co_name\n        filename = code.co_filename\n        line_nr = tb.tb_lineno - log_line_number_shift if tb.tb_lineno > 0 else 0\n        trace.write(f\"  File {filename}, line {line_nr}, in {name}\\n\")\n        if not filename.startswith(\"<\"):\n            trace.write(f\"    {tb.tb_lasti}\\n\")\n        tb = tb.tb_next\n    trace.write(f\"{exc_class}: {exc_msg}\\n\")\n    return trace.format()\n\ndef print_exc(file=None):\n    if file is None:\n        file = sys.stderr\n    trace = format_exc()\n    file.write(trace)\n    return trace\n\nTURTLE_IMPORTS = re.compile(r'(^from turtle import)|(^import turtle)', re.M)\nTURTLE_TEMPLATE = '''from browser import document\nimport turtle\nturtle.restart()\nturtle.set_defaults(\n  turtle_canvas_wrapper = document['{node_id}_turtle_result'],\n  turtle_canvas_id = '{node_id}_svg'\n)\n{py_script}\nturtle.done()\n'''\n\n\ndef run(code, node_id):\n    global has_turtle_import, log_line_number_shift\n    has_turtle_import = len(TURTLE_IMPORTS.findall(code)) > 0\n    log_line_number_shift = 7 if has_turtle_import else 0\n    py_script = TURTLE_TEMPLATE.format(node_id=node_id, py_script=code) if has_turtle_import else code\n\n    sys.stdout = EventOutput(node_id, 'stdout')\n    sys.stderr = EventOutput(node_id, 'stderr')\n    notify(node_id, {'type': 'start', 'time': time.time()})\n    try:\n        res_div = f'{node_id}_brython_result'\n        document[res_div].clear()\n        ns = {'__name__': node_id, 'RESULT_DIV': document[res_div]}\n        loc = {}\n        exec(py_script, ns, loc)\n        # if len(code.splitlines()) < 10:\n        #    print('  --', '\\n'.join([f'{x}: {loc[x]}' for x in loc.keys() if not x.startswith('__')]))\n    except Exception as exc:\n        print_exc(file=sys.stderr)\n    finally:\n        notify(node_id, {'type': 'done', 'time': time.time()})\n    \n    sys.stdout.flush()\n    sys.stderr.flush()\n"}}]);